<div class="card-body">
  <h5>Sales ({{ page.totalElements }})</h5>
  <div class="table-responsive">
    <table
      *ngIf="!page.empty"
      class="table table-bordered"
      id="dataTable"
      width="100%"
      cellspacing="0"
    >
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">BUYER</th>
          <th scope="col">DATE</th>
          <th scope="col">PRODUCTS</th>
          <th scope="col">Total</th>

          <th scope="col" *ngIf="isAdmin">REMOVE</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let p of page.content">
          <th scope="row">{{ p.id }}</th>
          <td>{{ p.buyer }}</td>
          <td>{{ p.date | date : "dd/MM/yyyy HH:mm" }}</td>

          <td>
            <button
              class="btn btn-primary"
              data-bs-target="#modalproducts"
              data-bs-toggle="modal"
              (click)="getProductSale(p)"
            >
              {{ p.products.length }} items
            </button>
          </td>
          <td>
            <p>$ {{ p.totalPrice }}</p>
          </td>

          <td *ngIf="isAdmin">
            <button class="btn btn-primary" (click)="cancelSale(p.id)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <nav aria-label="Page navigation example" *ngIf="!page.empty">
      <ul class="pagination justify-content-center">
        <li
          class="page-item"
          (click)="getSales(page.number - 1)"
          *ngIf="page.number != 0"
        >
          <a class="page-link">Previous</a>
        </li>

        <li
          class="page-item disabled"
          (click)="getSales(page.number - 1)"
          *ngIf="page.number == 0"
        >
          <a class="page-link">Previous</a>
        </li>
        <div *ngFor="let n of numbers">
          <li
            class="page-item active"
            *ngIf="page.number == n"
            (click)="getSales(n)"
          >
            <a class="page-link">{{ n + 1 }}</a>
          </li>
          <li class="page-item" *ngIf="page.number != n" (click)="getSales(n)">
            <a class="page-link">{{ n + 1 }}</a>
          </li>
        </div>

        <li class="page-item" (click)="getSales(page.number + 1)">
          <a class="page-link" *ngIf="!page.last">Next</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
