<!-- <h5>Sales ({{ page.totalElements }})</h5>

<table class="table table-dark" *ngIf="!page.empty">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">BUYER</th>
      <th scope="col">DATE</th>
      <th scope="col">PRODUCTS</th>
      <th scope="col">Total</th>

      <th scope="col">REMOVE</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let p of page.content">
      <th scope="row">{{ p.id }}</th>
      <td>{{ p.buyer }}</td>
      <td>{{ p.date }}</td>

      <td>
        <button
          class="btn btn-primary"
          data-bs-target="#modalproducts"
          data-bs-toggle="modal"
          (click)="getProductSale(p)"
        >
          {{ p.products.length }} items
        </button>
      </td>
      <td>
        <p>{{ p.totalPrice }}</p>
      </td>

      <td>
        <button class="btn btn-primary" (click)="cancelSale(p.id)">
          <i class="bi bi-trash"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
<nav
  aria-label="Page navigation example"
  *ngIf="!page.empty && page.totalPages > 1"
>
  <ul class="pagination justify-content-center">
    <li
      class="page-item"
      (click)="getSales(page.number - 1)"
      *ngIf="page.number != 0"
    >
      <a class="page-link">Previous</a>
    </li>

    <li
      class="page-item disabled"
      (click)="getSales(page.number - 1)"
      *ngIf="page.number == 0"
    >
      <a class="page-link" tabindex="-1">Previous</a>
    </li>
    <div *ngFor="let n of numbers">
      <li
        class="page-item active"
        *ngIf="page.number == n"
        (click)="getSales(n)"
      >
        <a class="page-link">{{ n + 1 }}</a>
      </li>
      <li class="page-item" *ngIf="page.number != n" (click)="getSales(n)">
        <a class="page-link">{{ n + 1 }}</a>
      </li>
    </div>

    <li class="page-item" (click)="getSales(page.number + 1)">
      <a class="page-link" *ngIf="!page.last">Next</a>
    </li>
  </ul>
</nav>
<div
  class="modal fade"
  id="modalproducts"
  tabindex="-1"
  role="dialog"
  aria-labelledby="productsLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="productsLabel">Sale Products</h5>
        <button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <ol *ngFor="let p of productSales; let i = index">
          <p>{{ i + 1 }} - {{ p.productName }} - {{ p.quantity }} units</p>
        </ol>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div> -->
<div class="card-body">
  <h5>Sales ({{ page.totalElements }})</h5>
  <div class="table-responsive">
    <table
      *ngIf="!page.empty"
      class="table table-bordered"
      id="dataTable"
      width="100%"
      cellspacing="0"
    >
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">BUYER</th>
          <th scope="col">DATE</th>
          <th scope="col">PRODUCTS</th>
          <th scope="col">Total</th>

          <th scope="col" *ngIf="isAdmin">REMOVE</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let p of page.content">
          <th scope="row">{{ p.id }}</th>
          <td>{{ p.buyer }}</td>
          <td>{{ p.date | date : "dd/MM/yyyy HH:mm" }}</td>

          <td>
            <button
              class="btn btn-primary"
              data-bs-target="#modalproducts"
              data-bs-toggle="modal"
              (click)="getProductSale(p)"
            >
              {{ p.products.length }} items
            </button>
          </td>
          <td>
            <p>$ {{ p.totalPrice }}</p>
          </td>

          <td *ngIf="isAdmin">
            <button class="btn btn-primary" (click)="cancelSale(p.id)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <nav aria-label="Page navigation example" *ngIf="!page.empty">
      <ul class="pagination justify-content-center">
        <li
          class="page-item"
          (click)="getSales(page.number - 1)"
          *ngIf="page.number != 0"
        >
          <a class="page-link">Previous</a>
        </li>

        <li
          class="page-item disabled"
          (click)="getSales(page.number - 1)"
          *ngIf="page.number == 0"
        >
          <a class="page-link">Previous</a>
        </li>
        <div *ngFor="let n of numbers">
          <li
            class="page-item active"
            *ngIf="page.number == n"
            (click)="getSales(n)"
          >
            <a class="page-link">{{ n + 1 }}</a>
          </li>
          <li class="page-item" *ngIf="page.number != n" (click)="getSales(n)">
            <a class="page-link">{{ n + 1 }}</a>
          </li>
        </div>

        <li class="page-item" (click)="getSales(page.number + 1)">
          <a class="page-link" *ngIf="!page.last">Next</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
